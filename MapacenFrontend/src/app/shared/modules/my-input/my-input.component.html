<mat-form-field
  class="form-field"
  [appearance]="appearance"
>
  <mat-label>
    {{ label }}
    <ng-container *ngIf="optional">(opcjonalne)</ng-container>
  </mat-label>

  <input
    #input
    matInput
    id="{{ 'search-' + label }}"
    [formControl]="getControl"
    [attr.disabled]="control.disabled"
    [placeholder]="visiblePlaceholder"
    [readonly]="readonly"
    [type]="type"
    [inputMask]="_mask"
    [errorStateMatcher]="matcher"
    [autocomplete]="autocomplete"
    [maxLength]="maxLength ?? 999"
    lzTrim
  />

  <div
    matSuffix
    *ngIf="suffixTemplate"
  >
    <ng-container *ngTemplateOutlet="suffixTemplate"></ng-container>
  </div>

  <mat-error
    *ngIf="errorMessage !== null"
    class="error"
  >
    <span> {{ errorMessage }}</span>

    <span *ngIf="hint">
      <ng-container *ngTemplateOutlet="hint"></ng-container>
    </span>
  </mat-error>

  <mat-hint
    *ngIf="hint"
    [align]="hintAlign"
  >
    <ng-container *ngTemplateOutlet="hint"></ng-container>
  </mat-hint>
</mat-form-field>

<mat-icon
  class="suffixOutside"
  *ngIf="suffixOutsideTemplate"
>
  <ng-container *ngTemplateOutlet="suffixOutsideTemplate"></ng-container>
</mat-icon>